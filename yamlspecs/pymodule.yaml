!include rcic-package.yaml
!include rpm.yaml
---
- name: common
  baserpm: "pytorch-python{{python_version}}-{{name}}"
  versions: !include versions.yaml
  python_version: "{{versions.python3}}"
  python_major: "{{versions.python3_major}}"
  compiler: "{{versions.compiler.name}}"
  compiler_version: "{{versions.compiler.version}}"
  root: "{{pkg_defaults.app_path}}/python/{{python_version}}"
  build:
    modules: 
      - "python/{{python_version}}"
      - "{{compiler}}/{{compiler_version}}"
  install:
    makeinstall: python{{python_major}} setup.py install --root $(ROOT) 
  requires:
    python_{{python_version}}
  files:
    - "{{root}}"
